# ğŸ¯ 03-04. ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ê´€ë¦¬í•˜ê¸°

state 

## ğŸŒ stateë¡œ ìƒíƒœ ê´€ë¦¬í•˜ê¸°

stateëŠ” ê°’ì„ ì €ì¥í•˜ê±°ë‚˜ ë³‘ê²½í•  ìˆ˜ ìˆëŠ” ê°ì²´<br/>í´ë¦­ì´ë‚˜ ê°’ì„ ì…ë ¥í•˜ëŠ” ë“±ì˜ ì´ë²¤íŠ¸ì™€ í•¨ê»˜ ì‚¬ìš©ë¨.

```jsx
import React, { Component } from 'react';

class StateExample extends Component {
  constructor(props) {
    super(props);

    this.state = {
      loading: true,
      formData: 'no data',
    };

    this.handleData = this.handleData.bind(this);
    setTimeout(this.handleData, 4000);
  }
  handleData() {
    const data = 'new data';
    const { formData } = this.state;
    this.setState({
      loading: false,
      formData: data + formData,
    });

    console.log('loadingê°’', this.state.loading);
  }
  render() {
    return (
      <div>
        <span>ë¡œë”©ì¤‘ : {String(this.state.loading)}</span>
        <span>ê²°ê³¼ : {this.state.formData }</span>
      </div>
    );
  }
}

export default StateExample;
```

```jsx
this.state{ ... }
```

ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬í•˜ë ¤ëŠ” ë³€ìˆ˜ stateì˜ ì´ˆê¸°ê°’ì„ this.stateì— ê°ì²´ í˜•íƒœë¡œ ì •ì˜.

```;
this.handleData = this.handleData.bind(this)
```

í•¨ìˆ˜ë¡œ ë„˜ì–´ê°ˆ this.ëŠ” ë°˜ë“œì‹œ ìƒì„±ìì—ì„œ bind()í•¨ìˆ˜ë¡œ ë¬¶ì–´ì£¼ì–´ì•¼í•¨.

setTimeoutìœ¼ë¡œ 4ì´ˆ í›„ í˜¸ì¶œ

**this.setStateë¥¼ ì´ìš©í•´ ê°’ì„ ë³€ê²½**í•˜ê³ , **this.stateë¡œ ì ‘ê·¼**í•¨.

4ì´ˆí›„ì— stateì— ì €ì¥ëœ ê°’ì´ ë°”ë€Œì–´ í™”ë©´ì´ ë°”ë€œ.

### â— ì£¼ì˜

```text
1. ìƒì„±ì(consturctor)ì—ì„œ ë°˜ë“œì‹œ ì´ˆê¸°í™” í•´ì•¼í•¨.
2. stateê°’ì„ ë³€ê²½í•  ë•ŒëŠ” setState()í•¨ìˆ˜(ìƒíƒœê´€ë¦¬í•¨ìˆ˜)ë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•´ì•¼í•œë‹¤.
3. setState()í•¨ìˆ˜ëŠ” ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë˜ë©°, setState()ì½”ë“œ ì´í›„ë¡œ ì—°ê²°ëœ í•¨ìˆ˜ë“¤ì˜ ì‹¤í–‰ì´ ì™„ë£Œëœ ì‹œì ì— í™”ë©´ ë™ê¸°í™” ê³¼ì •ì„ê±°ì¹¨.
```

ì´ˆê¸°í™” í•˜ì§€ ì•Šìœ¼ë©´, ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ stateê°’ì— ì ‘ê·¼í•  ìˆ˜ê°€ ì—†ë‹¤.<br/>ë§ˆë•…í•œ ì´ˆê¸°ê°’ì´ ì—†ìœ¼ë©´ ë¹ˆ ê°ì²´ë¼ë„ ë„£ì–´ì•¼í•œë‹¤.(this.state = {};)<br/>stateì— ì €ì¥ë˜ëŠ” ê°ì²´ì˜ ê°’ì€ ì§ì ‘ ë³€ê²½í•˜ë©´ ì•ˆëœë‹¤.



### ğŸ‘‰ stateê°’ì€ setState()í•¨ìˆ˜ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

### Why?

render()í•¨ìˆ˜ë¡œ í™”ë©´ì„ ê·¸ë ¤ì£¼ëŠ” ì‹œì ì€ ë¦¬ì•¡íŠ¸ ì—”ì§„ì´ ì •í•˜ê¸° ë•Œë¬¸.

ì´ê²Œ ë¬´ìŠ¨ì†Œë¦¬ëƒ?<br/>staetê°’ì„ ì§ì ‘ ë³€ê²½í•´ë„ render()í•¨ìˆ˜ëŠ” ìƒˆë¡œ í˜¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br/>í•˜ì§€ë§Œ setState()í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ stateê°’ì„ ë³€ê²½í•˜ë©´ ë¦¬ì•¡íŠ¸ ì—”ì§„ì´ ìë™ìœ¼ë¡œ render()í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë¯€ë¡œ í™”ë©´ì— ë³€ê²½ëœ stateê°’ì„ ìƒˆë¡­ê²Œ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.<br/>ìƒëª… ì£¼ê¸°ì™€ ê´€ë ¨ì´ ìˆë‹¤.

### ğŸ‘‰ setState()í•¨ìˆ˜ì˜ ì¸ìë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ ì´ì „ stateê°’ì„ ì‰½ê²Œ ì½ì„ ìˆ˜ ìˆë‹¤.

setState()í•¨ìˆ˜ì˜ ì¸ìë¡œ ã…ë§ˆìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ ì´ì „ stateê°’ì„ ë”°ë¡œ ì½ëŠ” ê³¼ì •ì„ ìƒëµ í•  ìˆ˜ ìˆë‹¤.

```jsx
handleData(data){
    this.setState(prevState=>({
        loading:false,
        formData:data+prevState.formData
    });
}
```



## ğŸŒ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì™€ forceUpdate()í•¨ìˆ˜ë¡œ stateê´€ë¦¬í•˜ê¸°

ê¼­ setState()í•¨ìˆ˜ë¡œ stateë¥¼ ê´€ë¦¬í•  í•„ìš”ëŠ” ì—†ë‹¤.

setState()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë¦¬ì•¡íŠ¸ì—”ì§„ì´ stateì˜ ë³€ê²½ê³¼ í™”ë©´ ë™ê¸°í™” ê³¼ì •ì„ ì²˜ë¦¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸.

ì¶œë ¥ ê²€ì¦ ì‘ì—… ì—†ì´ í•¨ìˆ˜ê°€ **í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡­ê²Œ í™”ë©´ì„ ì¶œë ¥í•˜ê³  ì‹¶ë‹¤ë©´** **í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì™€ í™”ë©´ì„ ê°•ì œë¡œ ì¶œë ¥**í•´ì£¼ëŠ” **forceUpdate()í•¨ìˆ˜ë¥¼ ì‚¬ìš©**í•˜ë©´ë¨.

```jsx
constructor(props) {
    super(props);
    this.loading = true;
    this.formData = 'no data';
    this.handleData = this.handleData.bind(this);
    setTimeout(this.handleData, 4000);
}
handleData() {
    const data = 'new data';
    this.loading = false;
    this.formData = data + this.formData;
    this.forceUpdate();
}
```

ì´ ë°©ë²•ì€ ë¦¬ì•¡íŠ¸ ì„±ëŠ¥ì— ì œì•½ì´ ìˆìœ¼ë‹ˆ ë§¤ë²ˆ ìƒˆë¡­ê²Œ í™”ë©´ì„ ì¶œë ¥í•´ì•¼ ë˜ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ê°€ê¸‰ì  ì‚¬ìš©X.



## ğŸŒ ë¬¸ì œ

ë‹¤ìŒì€ ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ ìˆ«ìê°€ ì¦ê°€í•˜ëŠ” ì¹´ìš´í„° ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. ìƒì„±ìì™€ increase()í•¨ìˆ˜ì˜ ë¹ˆ ì¹¸ì„ ì±„ì›Œë³´ì„¸ìš”.

```jsx
class Counter extends React.Component{
    constructor(props){
        super(props);
        // state ì •ì˜
        ë¹ˆ ì¹¸ 1
     
        this.increaseCount = this.increaseCount.bind(this);
    }
    increaseCount(){
        // state ë³€ê²½
        ë¹ˆ ì¹¸ 2
    }
    render(){
        return{
            <div>
            	<span>ì¹´ìš´íŠ¸: {this.state.count}</span>
				<button onClick={this.increaseCount}>ì¹´ìš´íŠ¸ ì¦ê°€</button>
            </div>
        }
    }
}
```



ì •ë‹µ

```jsx
// 1.
this.state={count: 0};

// 2.
this.setState(count =>{count: count+1});
```

